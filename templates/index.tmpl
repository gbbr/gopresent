{{define "pageStart"}}
	<!DOCTYPE html>
	<html>
	<head>
		<meta charset="UTF-8">
		<title>gopresent.io</title>
		<style>
			body {
				font-family: Tahoma;
			}
			#mentor-image { margin: 20px }
			#container {
				width: 100%;
				text-align: center;
			}
			.details {
				width: 100%;
				max-width: 800px;
				font-family: Verdana;
				font-size: 13px;
				line-height: 19px;
				margin: 20px auto 0 auto;
			}
		</style>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	</head>
	<body>
		<div id="container">
{{end}}

{{define "pageEnd"}}
		</div>
	</body>
	</html>
{{end}}

{{define "index"}}
	{{template "pageStart"}}
	<!-- TODO: resize this actually -->
	<h1>gopresent.io</h1>
	<img id="mentor-image" src="/static/gomentor.png" width="210" /><br />
	<form action="/upload" method="post" id="upload-form" enctype="multipart/form-data">
		<input type="file" name="filename" accept=".slide">
		<input type="submit" disabled>
	</form>
	<div class="details">
		Click <a href="https://godoc.org/golang.org/x/tools/present" target="_blank">here</a> to learn more
		about the slide format used for this site.
	</div>
	<script>
		$(document).ready(function() {
			var checkFile = function() {
				var file = $('#upload-form input[type="file"]').val();
				if (file.length > 0) {
					$('#upload-form input[type="submit"]').removeAttr("disabled");
				}
			};
			$('#upload-form input[type="file"]').change(checkFile);
			checkFile();
		});
	</script>
	{{template "pageEnd"}}
{{end}}

{{define "upload"}}
	{{template "pageStart"}}
	Upload completed! Your URL is:
	<pre>{{.URL}}</pre>
	Save it. It is valid for {{.Hours}} hours.
	{{template "pageEnd"}}
{{end}}
